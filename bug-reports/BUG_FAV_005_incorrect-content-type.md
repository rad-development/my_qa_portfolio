# üêû –ë–∞–≥-—Ä–µ–ø–æ—Ä—Ç: BUG_FAV_005
**–ù–∞–∑–≤–∞–Ω–∏–µ:** –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ JSON –≤–º–µ—Å—Ç–æ form-urlencoded (–∏–ª–∏ form-data)

**–°–æ–æ–±—â–∏–ª:** –∏–º—è  
**–î–∞—Ç–∞:** 2025-09-05  
**–°–µ—Ä—å—ë–∑–Ω–æ—Å—Ç—å (Severity):** Major  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (Priority):** –°—Ä–µ–¥–Ω–∏–π  
**–°—Ç–∞—Ç—É—Å:** Open  

---

### üõ† –û–∫—Ä—É–∂–µ–Ω–∏–µ

- API: [https://regionstest.2gis.com/v1/favorites](https://regionstest.2gis.com/v1/favorites)  
- –í–µ—Ä—Å–∏—è API: v1  
- –û–°: Windows 10  
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: Postman / Python (requests)  

---

### üìù –û–ø–∏—Å–∞–Ω–∏–µ

–°–µ—Ä–≤–µ—Ä –æ–∂–∏–¥–∞–µ—Ç application/x-www-form-urlencoded –∏–ª–∏ multipart/form-data.
–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (application/json) —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 Bad Request, –Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è title, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞.

–°—É—Ç—å –±–∞–≥–∞: —Å–Ω–∞—á–∞–ª–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å Content-Type, –∞ –∑–∞—Ç–µ–º —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–ª–µ–π.

---

### üìã –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è

- –ü–æ–ª—É—á–µ–Ω –≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `POST https://regions-test.2gis.com/v1/auth/tokens`  

---

### üîÅ –®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å `POST https://regions-test.2gis.com/v1/favorites`  
   - Body (raw JSON):  
```json
{
  "title": "My favorite place",
  "lat": 55.028254,
  "lon": 82.918501,
  "color": "GREEN"
}
```
   - –ó–∞–≥–æ–ª–æ–≤–∫–∏:  
     - Content-Type: application/json
     - Cookie: token=<valid_token> (–ø–æ–ª—É—á–µ–Ω –∏–∑ –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è)  

---

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP 400 Bad Request —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```json
{
  "error": {
    "id": "<UUID –æ—à–∏–±–∫–∏>",
    "message": "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞. –û–∂–∏–¥–∞–µ–º—ã–π Content-Type: application/x-www-form-urlencoded –∏–ª–∏ multipart/form-data"
  }
}
```

---

### ‚ùå –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 Bad Request, –Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ title, –≤–º–µ—Å—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–≤–µ—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞.

---

### üìé –í–ª–æ–∂–µ–Ω–∏—è

**–°–∫—Ä–∏–Ω—à–æ—Ç –æ—Ç–≤–µ—Ç–∞ 400 —Å –æ—à–∏–±–∫–æ–π: "–ü–∞—Ä–∞–º–µ—Ç—Ä 'title' —è–≤–ª—è–µ—Ç—Å—è –æ–±–∑–∞—Ç–µ–ª—å–Ω—ã–º" –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ —Ç–µ–ª–∞ (JSON)**  
![–°–∫—Ä–∏–Ω—à–æ—Ç –æ—Ç–≤–µ—Ç–∞ 400 Bad Request —Å –æ—à–∏–±–∫–æ–π –ø—Ä–æ –æ—Ç—Å—Ç—É—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è title](screenshots/JSON_body.png)

**–°–∫—Ä–∏–Ω—à–æ—Ç –æ—Ç–≤–µ—Ç–∞ 400 —Å –æ—à–∏–±–∫–æ–π: "–ü–∞—Ä–∞–º–µ—Ç—Ä 'title' —è–≤–ª—è–µ—Ç—Å—è –æ–±–∑–∞—Ç–µ–ª—å–Ω—ã–º" –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ —Ç–µ–ª–∞ (XML)**  
![–°–∫—Ä–∏–Ω—à–æ—Ç –æ—Ç–≤–µ—Ç–∞ 400 Bad Request —Å –æ—à–∏–±–∫–æ–π –ø—Ä–æ –æ—Ç—Å—Ç—É—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è title](screenshots/XML_body.png)

---

### üí¨ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

- –û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ –∫–∞–∫ —á–µ—Ä–µ–∑ Postman, —Ç–∞–∫ –∏ —á–µ—Ä–µ–∑ Python (requests).
- –ü—Ä–∏—á–∏–Ω–∞ ‚Äî —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–µ–π, –ø–æ—ç—Ç–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–≤–æ–¥–∏—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ.
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å Content-Type, –∑–∞—Ç–µ–º ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–ª–µ–π.
